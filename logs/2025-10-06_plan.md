Q. A company hosts a public web server and a database. They want to prevent direct Internet access to the database and inspect for SQLi attacks on the web front end.
- Describe the ideal setup using firewall, DMZ, and WAF — in one short paragraph.

A. Place the web server in the DMZ, separated from the internal LAN where the database lives. The firewall enforces that only the web server can reach the database on its port (e.g., 3306). A WAF sits in front of the web server to inspect and block SQLi/XSS before traffic reaches the app.


[ Internet ]
     |
     |  (HTTP/HTTPS)
     v
+-----------------------+
|  Web Application Firewall (WAF)  |
|  Layer 7 inspection: SQLi, XSS   |
+-----------------------+
     |
     |  (Allowed HTTP/HTTPS traffic)
     v
+-----------------------+
|   Firewall (External)            |
|   Layer 3/4: IP/Port filtering   |
+-----------------------+
     |
     |  (Inbound rule: Allow 80/443 to Web Server)
     v
==========  DMZ  ==========
     |
     |  (Internal HTTP/DB traffic)
     v
+-----------------------+
|  Web Server (Public-facing)       |
|  Serves site content              |
+-----------------------+
     |
     |  (Port 3306 allowed only from Web SG)
     v
==========  Internal LAN  ==========
     |
+-----------------------+
|  Database Server (Private)       |
|  No direct Internet access       |
+-----------------------+

| Layer             | Control                  | Purpose                              |
| ----------------- | ------------------------ | ------------------------------------ |
| **L7 (App)**      | WAF                      | Stops web-based exploits (SQLi, XSS) |
| **L3–L4 (Net)**   | Firewall                 | Filters IPs/ports; isolates DMZ      |
| **Segment**       | DMZ                      | Buffer zone for exposed services     |
| **L3 (Internal)** | Firewall (Internal Rule) | Allows only Web→DB connections       |
| **L7 (App)**      | DB Authentication        | Final layer of trust                 |
